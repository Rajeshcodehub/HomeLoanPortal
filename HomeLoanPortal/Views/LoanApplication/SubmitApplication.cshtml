@model HomeLoanPortal.Models.LoanApplication
@{
    ViewData["Title"] = "Review & Submit";
}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

<style>
    :root {
        --brand-1: #0A75FF;
        --brand-2: #003FA0;
    }

    .review-card {
        max-width: 850px;
        margin: 40px auto;
        padding: 28px;
        border-radius: 12px;
        background: #fff;
        box-shadow: 0 18px 40px rgba(0,80,200,0.06);
        font-family: Inter, sans-serif;
    }

    .summary-row {
        display: flex;
        justify-content: space-between;
        border-bottom: 1px dashed #e2e6ea;
        padding: 10px 0;
    }

    .k {
        font-weight: 600;
        color: #555;
    }

    .v {
        font-weight: 700;
        color: #000;
    }

    .btn-primary {
        background: linear-gradient(90deg,var(--brand-1),var(--brand-2));
        color: #fff;
        padding: 10px 16px;
        border-radius: 8px;
        border: none;
    }

    .btn-outline {
        background: white;
        border: 1.6px solid var(--brand-1);
        color: var(--brand-1);
        padding: 10px 16px;
        border-radius: 8px;
    }
</style>

<div class="review-card">

    <h2 class="mb-3" style="color:#003FA0;">Final Review</h2>
    <p class="text-muted">Please review your application before submitting.</p>

    <!-- SUMMARY -->
    <div class="summary-row"><div class="k">Name</div><div class="v">@Model.FirstName @Model.LastName</div></div>
    <div class="summary-row"><div class="k">Email</div><div class="v">@Model.Email</div></div>
    <div class="summary-row"><div class="k">Phone</div><div class="v">@Model.PhoneNumber</div></div>

    <div class="summary-row"><div class="k">Employment</div><div class="v">@Model.EmploymentType</div></div>
    <div class="summary-row"><div class="k">Monthly Income</div><div class="v">₹ @(Model.MonthlyIncome?.ToString("N2") ?? "-")</div></div>

    <div class="summary-row"><div class="k">Property</div><div class="v">@Model.PropertyName, @Model.PropertyLocation</div></div>
    <div class="summary-row"><div class="k">Property Value</div><div class="v">₹ @(Model.EstimatedPropertyValue?.ToString("N2") ?? "-")</div></div>

    <div class="summary-row"><div class="k">Loan Amount</div><div class="v">₹ @(Model.LoanAmountRequired?.ToString("N2") ?? "-")</div></div>
    <div class="summary-row"><div class="k">Tenure</div><div class="v">@Model.LoanTenureMonths Months</div></div>

    <div class="summary-row"><div class="k">Interest Rate</div><div class="v">@Model.InterestRate %</div></div>

    <h5 class="mt-4">Uploaded Documents</h5>
    <ul>
        @foreach (var doc in Model.Documents)
        {
            <li>@doc.DocumentType - <a href="@doc.FilePath" target="_blank">View</a></li>
        }
    </ul>

    <form method="post" asp-action="SubmitApplicationConfirmed">
        @Html.AntiForgeryToken()
        <input type="hidden" name="id" value="@Model.Id" />

        <div class="mt-3 d-flex justify-content-between">
            <a asp-action="UploadDocuments" asp-route-id="@Model.Id" class="btn-outline">Back</a>
            <button type="submit" class="btn-primary">Confirm & Submit</button>
        </div>
    </form>
</div>
